(()=>{"use strict";var e={1134:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DX_SPLASH_PLUS_GAME_VERSION=t.DX_SPLASH_GAME_VERSION=t.DX_PLUS_GAME_VERSION=t.DX_GAME_VERSION=t.SSSPLUS_MIN_ACHIEVEMENT=t.DIFFICULTY_CLASSNAME_MAP=t.DIFFICULTIES=void 0,t.DIFFICULTIES=["BASIC","ADVANCED","EXPERT","MASTER","Re:MASTER"],t.DIFFICULTY_CLASSNAME_MAP=new Map([["Re:MASTER","remaster"],["MASTER","master"],["EXPERT","expert"],["ADVANCED","advanced"]]),t.SSSPLUS_MIN_ACHIEVEMENT=100.5,t.DX_GAME_VERSION=13,t.DX_PLUS_GAME_VERSION=14,t.DX_SPLASH_GAME_VERSION=15,t.DX_SPLASH_PLUS_GAME_VERSION=16},1735:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LANG=void 0;const n=new URLSearchParams(document.location.search);let a="en";n.get("hl")?a=n.get("hl").startsWith("zh")?"zh":"en":navigator.language.startsWith("zh")&&(a="zh"),t.LANG=a},3073:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFinaleRankTitle=t.getRankTitle=t.getRankByAchievement=t.getRankIndexByAchievement=t.getRankDefinitions=t.RANK_DEFINITIONS_SPLASH_PLUS=void 0;const a=n(1134),l=[{minAchv:100.5,factor:14,title:"SSS+"},{minAchv:100,factor:13.5,title:"SSS"},{minAchv:99.5,factor:13.2,title:"SS+"},{minAchv:99,factor:13,title:"SS"},{minAchv:98,factor:12.7,title:"S+"},{minAchv:97,factor:12.5,title:"S"},{minAchv:94,factor:10.5,title:"AAA"},{minAchv:90,factor:9.5,title:"AA"},{minAchv:80,factor:8.5,title:"A"},{minAchv:75,factor:7.5,title:"BBB"},{minAchv:70,factor:7,title:"BB"},{minAchv:60,factor:6,title:"B"},{minAchv:50,factor:5,title:"C"}];function i(e){return e>a.DX_SPLASH_GAME_VERSION?t.RANK_DEFINITIONS_SPLASH_PLUS:l}function r(e){return l.findIndex((t=>e>=t.minAchv))}function o(e){const t=r(e);return t<0?"D":l[t].title}t.RANK_DEFINITIONS_SPLASH_PLUS=[{minAchv:100.5,factor:22.4,title:"SSS+"},{minAchv:100,factor:21.6,title:"SSS"},{minAchv:99.5,factor:21.1,title:"SS+"},{minAchv:99,factor:20.8,title:"SS"},{minAchv:98,factor:20.3,title:"S+"},{minAchv:97,factor:20,title:"S"},{minAchv:94,factor:16.8,title:"AAA"},{minAchv:90,factor:15.2,title:"AA"},{minAchv:80,factor:13.6,title:"A"},{minAchv:75,factor:12,title:"BBB"},{minAchv:70,factor:11.2,title:"BB"},{minAchv:60,factor:9.6,title:"B"},{minAchv:50,factor:8,title:"C"}],t.getRankDefinitions=i,t.getRankIndexByAchievement=r,t.getRankByAchievement=function(e,t){const n=r(e);return n<0?null:i(t)[n]},t.getRankTitle=o,t.getFinaleRankTitle=function(e){return o(e).replace("SSS+","SSS")}},3653:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IntervalLines=void 0;const l=a(n(3804));class i extends l.default.PureComponent{render(){const{interval:e,heightUnit:t,onClick:n}=this.props,a=e[0]===e[1];let i,r;const o={bottom:(i=(e[0]-.5)*t-1)+"px"},s={bottom:(r=(e[1]+.5)*t)+"px"};a?i+=4:r-i<14&&(r+=2,i-=5);const c={bottom:i+"px"},m={bottom:r+"px"};return l.default.createElement("div",{onClick:n},l.default.createElement("div",{className:"intervalBoundary",style:s}),l.default.createElement("div",{className:"intervalBoundary",style:o}),l.default.createElement("div",{className:"intervalLabel",style:c},l.default.createElement("span",{className:"intervalLabelText axisLabelText"},e[0])),!a&&l.default.createElement("div",{className:"intervalLabel",style:m},l.default.createElement("span",{className:"intervalLabelText axisLabelText"},e[1])))}}t.IntervalLines=i},9992:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LvLabel=void 0;const l=a(n(3804));class i extends l.default.PureComponent{render(){const{canZoomIn:e,onClick:t,title:n}=this.props;return l.default.createElement("div",{className:"lvLabel"},l.default.createElement("div",{className:"lvLabelButtonContainer"},l.default.createElement("button",{className:"lvLabelButton",disabled:!e,onClick:t},n)))}}t.LvLabel=i},8864:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LvRankRatingSegment=void 0;const l=a(n(3804));class i extends l.default.PureComponent{constructor(){super(...arguments),this.minRt=0,this.maxRt=0,this.handleClick=()=>{this.props.highlightInterval(this.minRt,this.maxRt)}}render(){const{minLv:e,minAchv:t,rankFactor:n,maxLv:a,maxAchv:i,heightUnit:r,title:o}=this.props;this.minRt=Math.floor(e*t*n/100),this.maxRt=Math.floor(a*i*n/100);const s={bottom:(this.minRt-.5)*r+"px",height:(this.maxRt-this.minRt+1)*r+"px"},c="ratingSegment segment"+o.replace("+","P");return l.default.createElement("div",{className:c,style:s,title:this.hoverText(),tabIndex:0,onClick:this.handleClick},l.default.createElement("div",{className:"ratingSegmentLabel"},o))}hoverText(){return this.minRt<this.maxRt?`${this.minRt} - ${this.maxRt}`:this.maxRt.toString()}}t.LvRankRatingSegment=i},8549:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LvRatingContainer=void 0;const l=a(n(3804)),i=n(9992),r=n(8864);class o extends l.default.PureComponent{constructor(){super(...arguments),this.handleLabelClick=()=>{const{lvTitle:e}=this.props;this.props.onZoomIn(e,e)}}render(){const{canZoomIn:e,lvTitle:t,minLv:n,maxLv:a,heightUnit:o,containerHeight:s,ranks:c}=this.props,m={height:s+"px"};return l.default.createElement("div",{className:"lvRatingContainer",style:m},l.default.createElement(i.LvLabel,{title:t,onClick:this.handleLabelClick,canZoomIn:e}),o?c.map(((e,t)=>{const i=0===t?e.minAchv:c[t-1].minAchv-1e-4;return l.default.createElement(r.LvRankRatingSegment,{key:e.title,minLv:n,maxLv:a,minAchv:e.minAchv,maxAchv:i,rankFactor:e.factor,heightUnit:o,title:e.title,highlightInterval:this.props.highlightInterval})})):null)}}t.LvRatingContainer=o},3191:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiplierTable=void 0;const l=a(n(3804)),i=n(1735),r=n(3073),o=["qlRankTitleCell","qlThresholdCell"],s={en:{rankFactorTable:"Rank Factor Table",rank:"Rank",achievement:"Achievement",factor:"Factor",multiplier:"Multiplier (Factor × Achievement)"},zh:{rankFactorTable:"Rank 係數表",rank:"Rank",achievement:"達成率",factor:"係數",multiplier:"倍率 (係數 × 達成率)"}}[i.LANG],c=e=>{const{isHeading:t}=e;return l.default.createElement("tr",null,e.values.map(((e,n)=>{let a="qlRankFactorCell";return n<o.length&&(a+=" "+o[n]),t||0===n?l.default.createElement("th",{className:a},e):l.default.createElement("td",{className:a},e)})))};class m extends l.default.PureComponent{constructor(){super(...arguments),this.state={minRankOption:"A"}}render(){const{gameVer:e}=this.props,{minRankOption:t}=this.state,n=r.getRankDefinitions(e),a=n.findIndex((e=>e.title===t))+1;return l.default.createElement("div",{className:"quickLookup"},l.default.createElement("h2",{className:"quickLookupHeading"},s.rankFactorTable),l.default.createElement("table",{className:"lookupTable"},l.default.createElement("thead",{className:"lookupTableHead"},l.default.createElement(c,{values:[s.rank,s.achievement,s.factor,s.multiplier],isHeading:!0})),l.default.createElement("tbody",null,n.slice(0,a).map(((e,t,n)=>{const a=e.minAchv*e.factor/100,i=t>0?(n[t-1].minAchv-1e-4)*e.factor/100:a,r=a.toFixed(3),o=i.toFixed(3),s=r!==o?`${r} - ${o}`:r;return l.default.createElement(c,{values:[e.title,e.minAchv,e.factor,s]})})))))}}t.MultiplierTable=m},7239:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsInput=void 0;const l=a(n(3804)),i=n(1134),r=n(5123);class o extends l.default.PureComponent{constructor(){super(...arguments),this.handleSetGameVer=e=>{const t=e.currentTarget.value;this.props.onSetGameVer(parseInt(t))},this.handleChangeMinLv=e=>{const t=e.currentTarget.value,n=r.getLvIndex(t),a=r.getLvIndex(this.props.maxLv);this.props.onSetRange(t,r.DX_LEVELS[Math.min(n,a)].title)},this.handleChangeMaxLv=e=>{const t=e.currentTarget.value,n=r.getLvIndex(this.props.minLv),a=r.getLvIndex(t);this.props.onSetRange(r.DX_LEVELS[Math.max(n,a)].title,t)},this.handleChangeHeightUnit=e=>{console.log(e.target);const t=parseInt(e.currentTarget.value);this.props.onChangeUnit(t)}}render(){const{minLv:e,maxLv:t,onFocus:n,onBlur:a}=this.props;return l.default.createElement("div",{className:"optionsContainer"},l.default.createElement("div",{className:"container",onFocus:n,onBlur:a,tabIndex:-1},l.default.createElement("label",{className:"optionGroup"},"Ver: ",l.default.createElement("select",{onChange:this.handleSetGameVer},l.default.createElement("option",{value:i.DX_SPLASH_GAME_VERSION,selected:!0},"Splash"),l.default.createElement("option",{value:i.DX_SPLASH_PLUS_GAME_VERSION},"Splash PLUS"))),l.default.createElement("label",{className:"optionGroup"},"Scale: ",l.default.createElement("select",{onChange:this.handleChangeHeightUnit},l.default.createElement("option",{value:"0"},"Hide"),l.default.createElement("option",{value:"3"},"3x"),l.default.createElement("option",{value:"4"},"4x"),l.default.createElement("option",{value:"5"},"5x"),l.default.createElement("option",{value:"8",selected:!0},"8x"),l.default.createElement("option",{value:"12"},"12x"))),l.default.createElement("span",{className:"lvRangeLabelContainer"},l.default.createElement("label",{className:"optionGroup"},"Max Level: ",l.default.createElement("select",{onChange:this.handleChangeMaxLv},this.renderLvOptions(t))),l.default.createElement("label",{className:"optionGroup"},"Min Level: ",l.default.createElement("select",{onChange:this.handleChangeMinLv},this.renderLvOptions(e))))))}renderLvOptions(e){const t=[];for(let n=0;n<r.DX_LEVELS.length;n++){const a=r.DX_LEVELS[n],i=e===a.title;t.push(l.default.createElement("option",{key:n,value:a.title,selected:i},a.title))}return t}}t.OptionsInput=o},7704:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RatingAxis=void 0;const l=a(n(3804));class i extends l.default.PureComponent{render(){const{step:e,maxRating:t,containerHeight:n,onClick:a}=this.props,i={height:n+"px"},r=[];let o=0;for(o=0;o<t;o+=e)r.push(this.renderLabel(o));return r.push(this.renderLabel(o)),l.default.createElement("div",{className:"axisLabelContainer",style:i,onClick:a},r)}renderLabel(e){const t={bottom:e*this.props.heightUnit+"px"};return l.default.createElement("div",{className:"axisLabel",style:t},l.default.createElement("span",{className:"axisLabelText"},e))}}t.RatingAxis=i},368:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RatingTable=void 0;const l=a(n(3804));class i extends l.default.PureComponent{render(){const{levels:e}=this.props;let{ranks:t}=this.props;const n=t.findIndex((e=>"AAA"===e.title));return t=t.slice(0,n+1),l.default.createElement("table",{className:"lookupTable"},l.default.createElement("thead",{className:"lookupTableHead"},l.default.createElement("tr",null,l.default.createElement("th",{className:"lookupTopLeftCell"}),t.map((e=>l.default.createElement("th",null,e.title))))),l.default.createElement("tbody",{className:"lookupTableBody"},e.map((e=>l.default.createElement("tr",null,l.default.createElement("th",null,e.title),t.map(((n,a)=>{const i=0===a?n.minAchv:t[a-1].minAchv-1e-4,r=Math.floor(e.minLv*n.minAchv*n.factor*.01),o=Math.floor(e.maxLv*i*n.factor*.01),s=r===o?r:`${o} - ${r}`;return l.default.createElement("td",null,s)})))))))}}t.RatingTable=i},2476:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RatingVisualizer=void 0;const l=a(n(3804)),i=n(1134),r=n(3073),o=n(3653),s=n(5123),c=n(8549),m=n(3191),h=n(7239),u=n(7704),v=n(368);class d extends l.default.PureComponent{constructor(e){super(e),this.removeIntervalTimeout=0,this.handleChangeHeightUnit=e=>{this.setState({heightUnit:e}),0===e&&this.removeHighlightInterval()},this.handleSetGameVer=e=>{this.setState((({maxLv:t})=>{const n=s.DX_LEVELS.find((e=>e.title===t));return{gameVer:e,maxRating:f(n.maxLv,e)}}))},this.handleSetRange=(e,t)=>{const n=s.DX_LEVELS.find((e=>e.title===t));this.setState((({gameVer:a})=>({minLv:e,maxLv:t,maxRating:f(n.maxLv,a)})))},this.highlightInterval=(e,t)=>{const n=this.state.highlightInterval;n&&n[0]===e&&n[1]===t?this.removeHighlightInterval():this.setState({highlightInterval:[e,t]})},this.removeHighlightInterval=()=>{this.removeIntervalTimeout=window.setTimeout((()=>{this.setState({highlightInterval:void 0}),this.removeIntervalTimeout=0}),0)},this.cancelRemoveHighlightInterval=()=>{this.removeIntervalTimeout&&(clearTimeout(this.removeIntervalTimeout),this.removeIntervalTimeout=0)};const t=i.DX_SPLASH_GAME_VERSION;this.state={gameVer:t,minLv:"10",maxLv:"14",width:30,heightUnit:8,maxRating:f(15,t),topPadding:66,axisLabelStep:5}}render(){const{gameVer:e,heightUnit:t,maxRating:n,axisLabelStep:a,highlightInterval:i,minLv:s,maxLv:d}=this.state,f=this.getLevels(),L=r.getRankDefinitions(e).slice(0,9),g=this.getContainerHeight(),p=d!==s;return l.default.createElement("div",{className:"ratingVisualizer"},l.default.createElement(h.OptionsInput,{onChangeUnit:this.handleChangeHeightUnit,onSetGameVer:this.handleSetGameVer,onSetRange:this.handleSetRange,minLv:s,maxLv:d,onBlur:this.removeHighlightInterval,onFocus:this.cancelRemoveHighlightInterval}),l.default.createElement("div",{className:"container",onBlur:this.removeHighlightInterval,onFocus:this.cancelRemoveHighlightInterval,tabIndex:-1},l.default.createElement("div",{className:"ratingContainer"},t?l.default.createElement(u.RatingAxis,{maxRating:n,heightUnit:t,containerHeight:g,step:a,onClick:this.removeHighlightInterval}):null,f.map(((e,n)=>l.default.createElement(c.LvRatingContainer,{key:n,canZoomIn:p,lvTitle:e.title,minLv:e.minLv,maxLv:e.maxLv,heightUnit:t,containerHeight:g,ranks:L,onZoomIn:this.handleSetRange,highlightInterval:this.highlightInterval}))),i&&l.default.createElement(o.IntervalLines,{interval:i,heightUnit:t,onClick:this.removeHighlightInterval}))),l.default.createElement("div",{className:"container"},l.default.createElement(v.RatingTable,{ranks:L,levels:f}),l.default.createElement("hr",{className:"sectionSep"}),l.default.createElement(m.MultiplierTable,{gameVer:e}),l.default.createElement("footer",{className:"footer"},l.default.createElement("hr",{className:"sectionSep"}),l.default.createElement("span",null,"Made by "),l.default.createElement("a",{className:"authorLink",href:"https://github.com/myjian",target:"_blank"},"myjian"),l.default.createElement("span",null,"."))))}getDetailLevels(e,t){const n=[];let a=s.DX_LEVELS[e].maxLv;const l=s.DX_LEVELS[t].minLv;for(console.log(a,l);a>=l;)n.push({title:a.toFixed(1),minLv:a,maxLv:a}),a-=.1;return console.log(n),n}getLevels(){const{minLv:e,maxLv:t}=this.state,n=s.getLvIndex(t),a=s.getLvIndex(e);return console.log(n,a),a-n<2?this.getDetailLevels(n,a):s.DX_LEVELS.slice(n,a+1)}getContainerHeight(){const{axisLabelStep:e,maxRating:t,heightUnit:n,topPadding:a}=this.state;return(t+e)*n+a}}function f(e,t){const n=r.getRankDefinitions(t)[0];return Math.floor(n.minAchv*n.factor*e/100)}t.RatingVisualizer=d},5123:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getLvIndex=t.DX_LEVELS=void 0,t.DX_LEVELS=[{title:"15",minLv:15,maxLv:15},{title:"14+",minLv:14.7,maxLv:14.9},{title:"14",minLv:14,maxLv:14.6},{title:"13+",minLv:13.7,maxLv:13.9},{title:"13",minLv:13,maxLv:13.6},{title:"12+",minLv:12.7,maxLv:12.9},{title:"12",minLv:12,maxLv:12.6},{title:"11+",minLv:11.7,maxLv:11.9},{title:"11",minLv:11,maxLv:11.6},{title:"10+",minLv:10.7,maxLv:10.9},{title:"10",minLv:10,maxLv:10.6},{title:"9+",minLv:9.7,maxLv:9.9},{title:"9",minLv:9,maxLv:9.6},{title:"8+",minLv:8.7,maxLv:8.9},{title:"8",minLv:8,maxLv:8.6}],t.getLvIndex=function(e){return t.DX_LEVELS.findIndex((t=>t.title===e))}},6242:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=a(n(3804)),i=a(n(7196)),r=n(1735),o=n(2476);"zh"===r.LANG&&(document.title="maimai DX R值圖表"),i.default.render(l.default.createElement(o.RatingVisualizer,null),document.getElementById("root"))},3804:e=>{e.exports=React},7196:e=>{e.exports=ReactDOM}},t={};!function n(a){var l=t[a];if(void 0!==l)return l.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,n),i.exports}(6242)})();