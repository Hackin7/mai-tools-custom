(()=>{"use strict";var e={6162:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getGameRegionFromOrigin=i.isMaimaiNetOrigin=i.MAIMAI_NET_ORIGINS=void 0,i.MAIMAI_NET_ORIGINS=["https://maimaidx.jp","https://maimaidx-eng.com"],i.isMaimaiNetOrigin=function(e){return"https://maimaidx.jp"===e||"https://maimaidx-eng.com"===e},i.getGameRegionFromOrigin=function(e){return"https://maimaidx.jp"===e?"https://maimaidx.jp":"https://maimaidx-eng.com"}},6991:function(e,i){var t=this&&this.__awaiter||function(e,i,t,o){return new(t||(t=Promise))((function(n,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var i;e.done?n(e.value):(i=e.value,i instanceof t?i:new t((function(e){e(i)}))).then(a,s)}c((o=o.apply(e,i||[])).next())}))};function o(e){return t(this,void 0,void 0,(function*(){const i=yield fetch(e),t=yield i.text();return(new DOMParser).parseFromString(t,"text/html")}))}Object.defineProperty(i,"__esModule",{value:!0}),i.removeScrollControl=i.fetchGameVersion=i.fetchPage=void 0,i.fetchPage=o,i.fetchGameVersion=function e(i){return t(this,void 0,void 0,(function*(){const t=i.querySelector("select[name=version] option:last-of-type");return t?parseInt(t.value):e(i=yield o("/maimai-mobile/record/musicVersion/"))}))},i.removeScrollControl=function(e){let i=e.getElementById("page-top");i&&i.remove(),i=e.getElementById("page-bottom"),i&&i.remove()}},4313:(e,i,t)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getMaiToolsBaseUrl=i.getScriptHost=void 0;const o=t(6162),n="https://myjian.github.io/mai-tools";i.getScriptHost=function(e){const i=Array.from(document.querySelectorAll("script"));for(;i.length;){const t=i.pop();if(t.src.includes(e)){const e=new URL(t.src),i=e.pathname;return e.origin+i.substring(0,i.lastIndexOf("/scripts"))}}return n},i.getMaiToolsBaseUrl=function(){return(0,o.isMaimaiNetOrigin)(window.location.origin)?n:window.location.pathname.startsWith("/mai-tools")?window.location.origin+"/mai-tools":window.location.origin}}},i={};function t(o){var n=i[o];if(void 0!==n)return n.exports;var r=i[o]={exports:{}};return e[o].call(r.exports,r,r.exports,t),r.exports}(()=>{const e=t(6162),i=t(6991),o=t(4313);!function(t){const n=(0,o.getScriptHost)("all-in-one")+"/scripts/";if(!(0,e.isMaimaiNetOrigin)(t.location.origin))return;function r(e){const i=t.createElement("script");i.src=n+e+"?t="+Math.floor(Date.now()/6e4),t.body.append(i)}const a=t.location.pathname;"/maimai-mobile/record/"===a?r("recent-play-downloader.js"):a.indexOf("/maimai-mobile/record/playlogDetail/")>=0?(r("score-converter.js"),r("play-record-helper.js")):a.indexOf("/maimai-mobile/record/musicDetail/")>=0?((0,i.removeScrollControl)(t),r("song-detail-helper.js")):a.indexOf("/maimai-mobile/record/music")>=0?r("score-sort.js"):a.indexOf("/maimai-mobile/friend/")>=0?(r("analyze-friend-rating-in-new-tab.js"),(a.indexOf("/maimai-mobile/friend/friendGenreVs/battleStart/")>=0||a.indexOf("/maimai-mobile/friend/friendLevelVs/battleStart/")>=0)&&r("score-sort.js")):a.indexOf("/maimai-mobile/home/")>=0||a.indexOf("/maimai-mobile/playerData/")>=0?((0,i.removeScrollControl)(t),r("score-download.js"),r("analyze-rating-in-newtab.js")):a.indexOf("/maimai-mobile/photo/")>=0&&r("album-download-helper.js")}(document)})()})();