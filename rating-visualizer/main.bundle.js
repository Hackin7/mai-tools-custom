!function(e){var t={};function a(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.l=!0,l.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(n,l,function(t){return e[t]}.bind(null,l));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=81)}({0:function(e,t){e.exports=React},1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LANG=void 0;const n=new URLSearchParams(document.location.search);let l="en";n.get("hl")?l=n.get("hl").startsWith("zh")?"zh":"en":navigator.language.startsWith("zh")&&(l="zh"),t.LANG=l},8:function(e,t,a){"use strict";function n(e){return t.RANK_DEFINITIONS.findIndex(t=>e>=t.th)}function l(e){const a=n(e);return a<0?null:t.RANK_DEFINITIONS[a]}function i(e){const t=l(e);return t?t.title:"C"}Object.defineProperty(t,"__esModule",{value:!0}),t.getFinaleRankTitle=t.getRankTitle=t.getRankByAchievement=t.getRankIndexByAchievement=t.RANK_DEFINITIONS=void 0,t.RANK_DEFINITIONS=[{th:100.5,factor:14,title:"SSS+"},{th:100,factor:13.5,title:"SSS"},{th:99.5,factor:13.2,title:"SS+"},{th:99,factor:13,title:"SS"},{th:98,factor:12.7,title:"S+"},{th:97,factor:12.5,title:"S"},{th:94,factor:10.5,title:"AAA"},{th:90,factor:9.5,title:"AA"},{th:80,factor:8.5,title:"A"},{th:75,factor:7.5,title:"BBB"},{th:70,factor:7,title:"BB"},{th:60,factor:6,title:"B"},{th:50,factor:5,title:"C"}],t.getRankIndexByAchievement=n,t.getRankByAchievement=l,t.getRankTitle=i,t.getFinaleRankTitle=function(e){return i(e).replace("SSS+","SSS")}},81:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=n(a(0)),i=n(a(9)),r=a(1),o=a(82);"zh"===r.LANG&&(document.title="maimai DX R值圖表"),i.default.render(l.default.createElement(o.RatingVisualizer,null),document.getElementById("root"))},82:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RatingVisualizer=void 0;const l=n(a(0)),i=a(83),r=a(84),o=a(85),s=a(88),c=a(89),u=a(90),m=a(91);class h extends l.default.PureComponent{constructor(e){super(e),this.removeIntervalTimeout=0,this.handleChangeHeightUnit=e=>{this.setState({heightUnit:e}),0===e&&this.removeHighlightInterval()},this.handleSetRange=(e,t)=>{this.setState({minLv:e,maxLv:t})},this.highlightInterval=(e,t)=>{const a=this.state.highlightInterval;a&&a[0]===e&&a[1]===t?this.removeHighlightInterval():this.setState({highlightInterval:[e,t]})},this.removeHighlightInterval=()=>{this.removeIntervalTimeout=setTimeout(()=>{this.setState({highlightInterval:void 0}),this.removeIntervalTimeout=0},0)},this.cancelRemoveHighlightInterval=()=>{this.removeIntervalTimeout&&(clearTimeout(this.removeIntervalTimeout),this.removeIntervalTimeout=0)},this.state={minLv:8,maxLv:15,width:30,heightUnit:8,maxRating:i.DX_MAX_RATING,topPadding:70,axisLabelStep:5}}render(){const{heightUnit:e,maxRating:t,axisLabelStep:a,highlightInterval:n,minLv:h,maxLv:d}=this.state,v=this.getLevels(),f=i.DX_PLUS_RANKS,p=this.getContainerHeight(),g=d-h>1;return l.default.createElement("div",{className:"ratingVisualizer"},l.default.createElement(c.OptionsInput,{onChangeUnit:this.handleChangeHeightUnit,onSetRange:this.handleSetRange,minLv:h,maxLv:d,onBlur:this.removeHighlightInterval,onFocus:this.cancelRemoveHighlightInterval}),l.default.createElement("div",{className:"container",onBlur:this.removeHighlightInterval,onFocus:this.cancelRemoveHighlightInterval,tabIndex:-1},l.default.createElement("div",{className:"ratingContainer"},e?l.default.createElement(u.RatingAxis,{maxRating:t,heightUnit:e,containerHeight:p,step:a,onClick:this.removeHighlightInterval}):null,v.map((t,a)=>l.default.createElement(o.LvRatingContainer,{key:a,canZoomIn:g,lvTitle:t.title,minLv:t.minLv,maxLv:t.maxLv,heightUnit:e,containerHeight:p,ranks:f,onZoomIn:this.handleSetRange,highlightInterval:this.highlightInterval})),n&&l.default.createElement(r.IntervalLines,{interval:n,heightUnit:e,onClick:this.removeHighlightInterval}))),l.default.createElement("div",{className:"container"},l.default.createElement(m.RatingTable,{ranks:f,levels:v}),l.default.createElement("hr",{className:"sectionSep"}),l.default.createElement(s.MultiplierTable,null),l.default.createElement("footer",{className:"footer"},l.default.createElement("hr",{className:"sectionSep"}),l.default.createElement("span",null,"Made by "),l.default.createElement("a",{className:"authorLink",href:"https://github.com/myjian",target:"_blank"},"myjian"),l.default.createElement("span",null,"."))))}getDetailLevels(e,t){const a=[];let n=t;for(;n>=e;)a.push({title:n.toFixed(1),minLv:n,maxLv:n}),n-=.1;return console.log(a),a}getLevels(){const{minLv:e,maxLv:t}=this.state;if(t-e<1)return this.getDetailLevels(e,t);const a=[];let n=t;for(15===t?a.push({title:"15",minLv:15,maxLv:15}):a.push({title:n.toFixed(0),minLv:n,maxLv:n+.6}),n--;n>=e;)a.push({title:Math.round(n).toFixed(0)+"+",minLv:n+.7,maxLv:n+.9}),a.push({title:Math.round(n).toFixed(0),minLv:n,maxLv:n+.6}),n--;return console.log(a),a}getContainerHeight(){const{axisLabelStep:e,maxRating:t,heightUnit:a,topPadding:n}=this.state;return(t+e)*a+n}}t.RatingVisualizer=h},83:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DX_PLUS_LEVELS=t.DX_PLUS_RANKS=t.DX_MAX_RATING=void 0,t.DX_MAX_RATING=211,t.DX_PLUS_RANKS=[{title:"SSS+",minAchv:100.5,rankFactor:14,maxAchv:100.5},{title:"SSS",minAchv:100,rankFactor:13.5,maxAchv:100.4999},{title:"SS+",minAchv:99.5,rankFactor:13.2,maxAchv:99.9999},{title:"SS",minAchv:99,rankFactor:13,maxAchv:99.4999},{title:"S+",minAchv:98,rankFactor:12.7,maxAchv:98.9999},{title:"S",minAchv:97,rankFactor:12.5,maxAchv:97.9999},{title:"AAA",minAchv:94,rankFactor:10.5,maxAchv:96.9999},{title:"AA",minAchv:90,rankFactor:9.5,maxAchv:93.9999},{title:"A",minAchv:80,rankFactor:8.5,maxAchv:89.9999}];t.DX_PLUS_LEVELS=[{title:"15",minLv:15,maxLv:15},{title:"14+",minLv:14.7,maxLv:14.9},{title:"14",minLv:14,maxLv:14.6},{title:"13+",minLv:13.7,maxLv:13.9},{title:"13",minLv:13,maxLv:13.6},{title:"12+",minLv:12.7,maxLv:12.9},{title:"12",minLv:12,maxLv:12.6},{title:"11+",minLv:11.7,maxLv:11.9},{title:"11",minLv:11,maxLv:11.6},{title:"10+",minLv:10.7,maxLv:10.9},{title:"10",minLv:10,maxLv:10.6},{title:"9+",minLv:9.7,maxLv:9.9},{title:"9",minLv:9,maxLv:9.6},{title:"8+",minLv:8.7,maxLv:8.9},{title:"8",minLv:8,maxLv:8.6}]},84:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IntervalLines=void 0;const l=n(a(0));class i extends l.default.PureComponent{render(){const{interval:e,heightUnit:t,onClick:a}=this.props,n=e[0]===e[1];let i,r;const o={bottom:(i=(e[0]-.5)*t-1)+"px"},s={bottom:(r=(e[1]+.5)*t)+"px"};n?i+=4:r-i<14&&(r+=2,i-=5);const c={bottom:i+"px"},u={bottom:r+"px"};return l.default.createElement("div",{onClick:a},l.default.createElement("div",{className:"intervalBoundary",style:s}),l.default.createElement("div",{className:"intervalBoundary",style:o}),l.default.createElement("div",{className:"intervalLabel",style:c},l.default.createElement("span",{className:"intervalLabelText axisLabelText"},e[0])),!n&&l.default.createElement("div",{className:"intervalLabel",style:u},l.default.createElement("span",{className:"intervalLabelText axisLabelText"},e[1])))}}t.IntervalLines=i},85:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LvRatingContainer=void 0;const l=n(a(0)),i=a(86),r=a(87);class o extends l.default.PureComponent{constructor(){super(...arguments),this.handleLabelClick=()=>{const{minLv:e,maxLv:t}=this.props;this.props.onZoomIn(e,t)}}render(){const{canZoomIn:e,lvTitle:t,minLv:a,maxLv:n,heightUnit:o,containerHeight:s,ranks:c}=this.props,u={height:s+"px"};return l.default.createElement("div",{className:"lvRatingContainer",style:u},l.default.createElement(i.LvLabel,{title:t,onClick:this.handleLabelClick,canZoomIn:e}),o?c.map(e=>l.default.createElement(r.LvRankRatingSegment,{key:e.title,minLv:a,maxLv:n,minAchv:e.minAchv,maxAchv:e.maxAchv,rankFactor:e.rankFactor,maxRankFactor:e.maxRankFactor,heightUnit:o,title:e.title,highlightInterval:this.props.highlightInterval})):null)}}t.LvRatingContainer=o},86:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LvLabel=void 0;const l=n(a(0));class i extends l.default.PureComponent{render(){const{canZoomIn:e,onClick:t,title:a}=this.props;return l.default.createElement("div",{className:"lvLabel"},l.default.createElement("div",{className:"lvLabelButtonContainer"},l.default.createElement("button",{className:"lvLabelButton",disabled:!e,onClick:t},a)))}}t.LvLabel=i},87:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LvRankRatingSegment=void 0;const l=n(a(0));class i extends l.default.PureComponent{constructor(){super(...arguments),this.minRt=0,this.maxRt=0,this.handleClick=()=>{this.props.highlightInterval(this.minRt,this.maxRt)}}render(){const{minLv:e,minAchv:t,rankFactor:a,maxLv:n,maxAchv:i,maxRankFactor:r,heightUnit:o,title:s}=this.props;this.minRt=Math.floor(e*t*a/100),this.maxRt=Math.floor(n*i*(r||a)/100);const c={bottom:(this.minRt-.5)*o+"px",height:(this.maxRt-this.minRt+1)*o+"px"},u="ratingSegment segment"+s.replace("+","P");return l.default.createElement("div",{className:u,style:c,title:this.hoverText(),tabIndex:0,onClick:this.handleClick},l.default.createElement("div",{className:"ratingSegmentLabel"},s))}hoverText(){return this.minRt<this.maxRt?`${this.minRt} - ${this.maxRt}`:this.maxRt.toString()}}t.LvRankRatingSegment=i},88:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiplierTable=void 0;const l=n(a(0)),i=a(1),r=a(8),o=["qlRankTitleCell","qlThresholdCell"],s={en:{rankFactorTable:"Rank Factor Table",rank:"Rank",achievement:"Achievement",factor:"Factor",multiplier:"Multiplier (Factor × Achievement)"},zh:{rankFactorTable:"Rank 係數表",rank:"Rank",achievement:"達成率",factor:"係數",multiplier:"倍率 (係數 × 達成率)"}}[i.LANG],c=e=>{const{isHeading:t}=e;return l.default.createElement("tr",null,e.values.map((e,a)=>{let n="qlRankFactorCell";return a<o.length&&(n+=" "+o[a]),t||0===a?l.default.createElement("th",{className:n},e):l.default.createElement("td",{className:n},e)}))};class u extends l.default.PureComponent{constructor(){super(...arguments),this.state={minRankOption:"A"}}render(){const{minRankOption:e}=this.state,t=r.RANK_DEFINITIONS,a=t.findIndex(t=>t.title===e)+1;return l.default.createElement("div",{className:"quickLookup"},l.default.createElement("h2",{className:"quickLookupHeading"},s.rankFactorTable),l.default.createElement("table",{className:"lookupTable"},l.default.createElement("thead",{className:"lookupTableHead"},l.default.createElement(c,{values:[s.rank,s.achievement,s.factor,s.multiplier],isHeading:!0})),l.default.createElement("tbody",null,t.slice(0,a).map((e,t,a)=>{const n=e.th*e.factor/100,i=t>0?(a[t-1].th-1e-4)*e.factor/100:n,r=n.toFixed(3),o=i.toFixed(3),s=r!==o?`${r} - ${o}`:r;return l.default.createElement(c,{values:[e.title,e.th,e.factor,s]})}))))}}t.MultiplierTable=u},89:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsInput=void 0;const l=n(a(0)),i=["8-15","8-11","9-12","10-13","11-14","12-15"];class r extends l.default.PureComponent{constructor(){super(...arguments),this.handleChangeRange=e=>{const t=e.currentTarget.value.split("-");this.props.onSetRange(parseInt(t[0]),parseInt(t[1]))},this.handleChangeHeightUnit=e=>{console.log(e.target);const t=parseInt(e.currentTarget.value);this.props.onChangeUnit(t)}}render(){const{onFocus:e,onBlur:t}=this.props;return l.default.createElement("div",{className:"optionsContainer"},l.default.createElement("div",{className:"container",onFocus:e,onBlur:t,tabIndex:-1},l.default.createElement("label",{className:"optionGroup"},"Scale: ",l.default.createElement("select",{onChange:this.handleChangeHeightUnit},l.default.createElement("option",{value:"0"},"Hide"),l.default.createElement("option",{value:"3"},"3x"),l.default.createElement("option",{value:"4"},"4x"),l.default.createElement("option",{value:"5"},"5x"),l.default.createElement("option",{value:"8",selected:!0},"8x"),l.default.createElement("option",{value:"12"},"12x"))),l.default.createElement("span",{className:"lvRangeLabelContainer"},"Showing Level ",l.default.createElement("select",{onChange:this.handleChangeRange},this.renderOptions()))))}renderOptions(){const{minLv:e,maxLv:t}=this.props,a=t-e>1?e.toFixed(0)+"-"+t.toFixed(0):e-Math.floor(e)>0?Math.floor(e)+"+":e.toFixed(0);let n=!1;const r=[];return i.forEach((e,t)=>{const i=a===e;i&&(n=!0),r.push(l.default.createElement("option",{key:t,value:e,selected:i},e.replace("-"," - ")))}),n||r.push(l.default.createElement("option",{key:i.length,value:a,selected:!0},a)),r}}t.OptionsInput=r},9:function(e,t){e.exports=ReactDOM},90:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RatingAxis=void 0;const l=n(a(0));class i extends l.default.PureComponent{render(){const{step:e,maxRating:t,containerHeight:a,onClick:n}=this.props,i={height:a+"px"},r=[];let o=0;for(o=0;o<t;o+=e)r.push(this.renderLabel(o));return r.push(this.renderLabel(o)),l.default.createElement("div",{className:"axisLabelContainer",style:i,onClick:n},r)}renderLabel(e){const t={bottom:e*this.props.heightUnit+"px"};return l.default.createElement("div",{className:"axisLabel",style:t},l.default.createElement("span",{className:"axisLabelText"},e))}}t.RatingAxis=i},91:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RatingTable=void 0;const l=n(a(0));class i extends l.default.PureComponent{render(){const{levels:e}=this.props;let{ranks:t}=this.props;const a=t.findIndex(e=>"AAA"===e.title);return t=t.slice(0,a+1),l.default.createElement("table",{className:"lookupTable"},l.default.createElement("thead",{className:"lookupTableHead"},l.default.createElement("tr",null,l.default.createElement("th",{className:"lookupTopLeftCell"}),t.map(e=>l.default.createElement("th",null,e.title)))),l.default.createElement("tbody",{className:"lookupTableBody"},e.map(e=>l.default.createElement("tr",null,l.default.createElement("th",null,e.title),t.map(t=>{const a=Math.floor(e.minLv*t.minAchv*t.rankFactor*.01),n=Math.floor(e.maxLv*t.maxAchv*(t.maxRankFactor||t.rankFactor)*.01),i=a===n?a:`${a} - ${n}`;return l.default.createElement("td",null,i)})))))}}t.RatingTable=i}});