(()=>{"use strict";var e={745:(e,t,n)=>{var a=n(1533);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},8190:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getMaimaiSongsLink=t.MAIMAI_SONGS_HOME=void 0;const a=n(134);t.MAIMAI_SONGS_HOME="https://arcade-songs.zetaraku.dev/maimai/",t.getMaimaiSongsLink=function(e,n,i,r,o=a.LATEST_VERSION){const l=new URLSearchParams;if(e=e.replace("+",".7"),l.set("maxLevelValue",e),l.set("minLevelValue",e),n&&l.set("useInternalLevel","true"),i&&("https://maimaidx.jp"===i?l.set("region","jp"):"https://maimaidx-eng.com"===i&&l.set("region","intl")),null!=r&&r>=0){const e=[];for(;r<=o;)e.push((0,a.getVersionName)(r)),r++;l.set("versions",e.join("|"))}return t.MAIMAI_SONGS_HOME+"?"+l}},9099:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getChartTypeName=t.getChartType=void 0,t.getChartType=function(e){if(e.id)return e.id.includes("sta_")?0:1;const t=e.querySelector(".playlog_music_kind_icon")||e.querySelector(".music_kind_icon")||e.querySelector(".f_l.h_20")||e.querySelector("img:nth-child(2)");return t instanceof HTMLImageElement&&t.src.includes("_standard")?0:1},t.getChartTypeName=function(e){return 1===e?"DX":"STANDARD"}},4876:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LangSwitcher=void 0;const i=a(n(7363)),r=n(8080),o=n(5215),l={zh_TW:"繁體中文",en_US:"English",ko_KR:"한국어"};t.LangSwitcher=function(){const e=(0,o.useLanguage)(),t=e=>{(0,r.saveLanguage)(e.currentTarget.dataset.lang)};return i.default.createElement("div",null,"語言 (Language)：",r.SUPPORTED_LANGUAGES.map((n=>n===e?i.default.createElement(i.default.Fragment,null,l[n]," "):i.default.createElement(i.default.Fragment,{key:n},i.default.createElement("a",{href:`?hl=${n}`,"data-lang":n,onClick:t},l[n])," "))))}},6699:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RecommendedLevelCell=void 0;const i=a(n(7363)),r=n(8190),o=n(9268);class l extends i.default.PureComponent{render(){const{gameRegion:e,gameVer:t,lv:n,includeOldVersions:a}=this.props;if(n<0)return i.default.createElement("td",null,"--");const l=(0,o.getOfficialLevel)(n),s=n.toFixed(1),c=a?0:t;return i.default.createElement("td",{className:"recLvCell"},i.default.createElement("a",{className:"recOfficialLv",href:(0,r.getMaimaiSongsLink)(l,!1,e,c,t),target:"_blank"},l),i.default.createElement("br",null),"(",i.default.createElement("a",{href:(0,r.getMaimaiSongsLink)(s,!0,e,c,t),target:"_blank"},s),"~)")}}t.RecommendedLevelCell=l},8642:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getDifficultyTextColor=t.getDifficultyForRecord=t.getDifficultyByName=t.getDifficultyName=t.DIFFICULTY_CLASSNAME_MAP=t.DIFFICULTIES=void 0,t.DIFFICULTIES=[0,1,2,3,4];const n=["BASIC","ADVANCED","EXPERT","MASTER","Re:MASTER"];function a(e){const t=n.indexOf(e.toUpperCase());return t<0?4:t}t.DIFFICULTY_CLASSNAME_MAP=new Map([[0,"basic"],[1,"advanced"],[2,"expert"],[3,"master"],[4,"remaster"]]),t.getDifficultyName=function(e){return n[e]},t.getDifficultyByName=a,t.getDifficultyForRecord=function(e){const t=e.querySelector(".playlog_top_container img.playlog_diff").src;return a(t.substring(t.lastIndexOf("_")+1,t.lastIndexOf(".")))},t.getDifficultyTextColor=function(e){return["#45c124","#ffba01","#ff7b7b","#9f51dc","#dbaaff"][e]}},2347:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getPlayerGrade=t.getPlayerName=t.getChartDifficulty=t.getChartLevel=t.getSongName=void 0;const a=n(8642),i=n(472);t.getSongName=function(e){const t=e.querySelector(".basic_block.break");return t?t.childNodes.item(t.childNodes.length-1).nodeValue:(0,i.normalizeSongName)(e.getElementsByClassName("music_name_block")[0].innerText)},t.getChartLevel=function(e){return e.getElementsByClassName("music_lv_block")[0].innerText},t.getChartDifficulty=function(e){if(!e.classList.contains("pointer")){const t=e.querySelector(".pointer");e=t||e}const t=e.className.match(/music_([a-z]+)_score_back/)[1];return(0,a.getDifficultyByName)(t)},t.getPlayerName=function(e){var t,n;return e.className.includes("friend_vs_friend_block")?null===(t=e.querySelector(".t_l"))||void 0===t?void 0:t.innerText:null===(n=e.querySelector(".name_block"))||void 0===n?void 0:n.innerText},t.getPlayerGrade=function(e){const t=e.querySelector(".user_data_block_line ~ img.h_25");if(t){const e=t.src.lastIndexOf("grade_");return t.src.substring(e+6,e+8)}return null}},6510:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function l(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchScores=t.SELF_SCORE_URLS=void 0;const i=n(9099),r=n(2347),o=n(9268),l=n(6991),s=n(87);t.SELF_SCORE_URLS=new Map([[4,"/maimai-mobile/record/musicGenre/search/?genre=99&diff=4"],[3,"/maimai-mobile/record/musicGenre/search/?genre=99&diff=3"],[2,"/maimai-mobile/record/musicGenre/search/?genre=99&diff=2"],[1,"/maimai-mobile/record/musicGenre/search/?genre=99&diff=1"],[0,"/maimai-mobile/record/musicGenre/search/?genre=99&diff=0"]]),t.fetchScores=function(e,n,c){return a(this,void 0,void 0,(function*(){let a=n.get(e);if(!a){const i=t.SELF_SCORE_URLS.get(e);if(!i)return;a=yield(0,l.fetchPage)(i),n.set(e,a)}const u=a.querySelectorAll(".main_wrapper.t_c .m_15"),m={genre:""},d=Array.from(u).map((t=>function(e,t,n,a){const l=e.classList.contains("screw_block"),c=e.classList.contains("w_450")&&e.classList.contains("m_15")&&e.classList.contains("p_r")&&e.classList.contains("f_0");if(l)return a.genre=e.innerText,null;if(c){const l=function(e){const t=e.querySelector(".music_score_block.w_120");return t&&t.innerText}(e);if(!l)return;const c=(0,r.getSongName)(e),u=(0,i.getChartType)(e),m=(0,s.getSongProperties)(n,c,a.genre,u);let d=m?m.lv[t]:0;const f=d>0;return d||(d=(0,o.getDefaultLevel)((0,r.getChartLevel)(e))),{songName:c,genre:a.genre,difficulty:t,level:d,levelIsPrecise:f,chartType:u,achievement:parseFloat(l)}}}(t,e,c,m)));return d.filter((e=>null!=e))}))}},6162:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getGameRegionFromOrigin=t.isMaimaiNetOrigin=t.MAIMAI_NET_ORIGINS=void 0,t.MAIMAI_NET_ORIGINS=["https://maimaidx.jp","https://maimaidx-eng.com"],t.isMaimaiNetOrigin=function(e){return"https://maimaidx.jp"===e||"https://maimaidx-eng.com"===e},t.getGameRegionFromOrigin=function(e){return"https://maimaidx.jp"===e?"https://maimaidx.jp":"https://maimaidx-eng.com"}},134:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getVersionName=t.validateGameVersion=t.RATING_CALCULATOR_SUPPORTED_VERSIONS=t.LATEST_VERSION=void 0;const n=["maimai","maimai PLUS","GreeN","GreeN PLUS","ORANGE","ORANGE PLUS","PiNK","PiNK PLUS","MURASAKi","MURASAKi PLUS","MiLK","MiLK PLUS","FiNALE","maimaiでらっくす","maimaiでらっくす PLUS","Splash","Splash PLUS","UNiVERSE","UNiVERSE PLUS","FESTiVAL","FESTiVAL PLUS"];t.LATEST_VERSION=20,t.RATING_CALCULATOR_SUPPORTED_VERSIONS=[18,19,20],t.validateGameVersion=function(e,n,a=t.LATEST_VERSION){const i="string"==typeof e?parseInt(e):e;return!e||isNaN(i)?a:i>=n&&i<=a?i:a},t.getVersionName=function(e){return n[e]}},5215:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useLanguage=t.LangContext=void 0;const a=n(7363),i=n(8080);t.LangContext=(0,a.createContext)((0,i.getInitialLanguage)()),t.useLanguage=function(){return(0,a.useContext)(t.LangContext)}},8080:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getInitialLanguage=t.saveLanguage=t.SUPPORTED_LANGUAGES=void 0;const a=n(5990);t.SUPPORTED_LANGUAGES=["en_US","zh_TW","ko_KR"],t.saveLanguage=function(e){(0,a.saveUserPreference)("MaiToolsLang",e)},t.getInitialLanguage=function(){const e=new URLSearchParams(location.search).get("hl");if(e)return e.startsWith("zh")?"zh_TW":e.startsWith("ko")?"ko_KR":"en_US";return function(){switch((0,a.loadUserPreference)("MaiToolsLang")){case"en_US":return"en_US";case"zh_TW":return"zh_TW";case"ko_KR":return"ko_KR"}return null}()||(navigator.language.startsWith("zh")?"zh_TW":navigator.language.startsWith("ko")?"ko_KR":"en_US")}},9268:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getDisplayLv=t.getDefaultLevel=t.getOfficialLevel=t.MAX_LEVEL=void 0,t.MAX_LEVEL=15,t.getOfficialLevel=function(e){const t=Math.floor(e);return e-t>.6?t+"+":t.toString()},t.getDefaultLevel=function(e){if(!e)return 1;const t=parseInt(e);return e.endsWith("+")?t+.7:t},t.getDisplayLv=function(e){if(!(e<0))return e.toFixed(1);const t=Math.abs(e),n=Math.floor(t);return n===t?n.toFixed(0):n.toFixed(0)+"+"}},6991:function(e,t){var n=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function l(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.removeScrollControl=t.getEpochTimeFromText=t.fetchGameVersion=t.fetchPage=void 0;const a="MaiToolsGameVer",i="MaiToolsGameVerExpire",r=6e4*((new Date).getTimezoneOffset()+540);function o(e){return n(this,void 0,void 0,(function*(){const t=yield fetch(e),n=yield t.text();return(new DOMParser).parseFromString(n,"text/html")}))}t.fetchPage=o,t.fetchGameVersion=function e(t){return n(this,void 0,void 0,(function*(){const n=parseInt(window.localStorage.getItem(i));if(!isNaN(n)&&n>=Date.now())return parseInt(window.localStorage.getItem(a));const r=t.querySelector("select[name=version] option:last-of-type");if(r instanceof HTMLOptionElement){const e=parseInt(r.value);return window.localStorage.setItem(a,String(e)),window.localStorage.setItem(i,String(Date.now()+864e5)),e}return e(t=yield o("/maimai-mobile/record/musicVersion/"))}))},t.getEpochTimeFromText=function(e){const t=e.match(/(\d+)\/(\d+)\/(\d+) (\d+):(\d+)/);return new Date(parseInt(t[1]),parseInt(t[2])-1,parseInt(t[3]),parseInt(t[4]),parseInt(t[5])).getTime()-r},t.removeScrollControl=function(e){let t=e.getElementById("page-top");t&&t.remove(),t=e.getElementById("page-bottom"),t&&t.remove()}},6358:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatFloat=t.roundFloat=t.sum=t.compareNumber=void 0,t.compareNumber=function(e,t){return e>t?1:e<t?-1:0},t.sum=function(e){let t=0;for(const n of e)t+=n;return t},t.roundFloat=function(e,t,n){return Math[t](e/n)*n},t.formatFloat=function(e,t){return e?e.toFixed(t):"0"}},7991:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.calcRecommendedLv=t.getFinaleRankTitle=t.getRankTitle=t.getRankByAchievement=t.getRankIndexByAchievement=t.getRankDefinitions=t.SSSPLUS_MIN_ACHIEVEMENT=void 0;const a=n(9268),i=n(6358);t.SSSPLUS_MIN_ACHIEVEMENT=100.5;const r=[{minAchv:100.5,factor:22.4,title:"SSS+"},{minAchv:100,factor:21.6,title:"SSS"},{minAchv:99.5,factor:21.1,title:"SS+"},{minAchv:99,factor:20.8,title:"SS"},{minAchv:98,factor:20.3,title:"S+"},{minAchv:97,factor:20,title:"S"},{minAchv:94,factor:16.8,title:"AAA"},{minAchv:90,factor:15.2,title:"AA"},{minAchv:80,factor:13.6,title:"A"},{minAchv:75,factor:12,title:"BBB"},{minAchv:70,factor:11.2,title:"BB"},{minAchv:60,factor:9.6,title:"B"},{minAchv:50,factor:8,title:"C"}];function o(){return r}function l(e){return r.findIndex((t=>e>=t.minAchv))}function s(e){const t=l(e);return t<0?"D":r[t].title}t.getRankDefinitions=o,t.getRankIndexByAchievement=l,t.getRankByAchievement=function(e){const t=l(e);return t<0?null:o()[t]},t.getRankTitle=s,t.getFinaleRankTitle=function(e){return s(e).replace("SSS+","SSS")},t.calcRecommendedLv=function(e,t){const n=(0,i.roundFloat)(100*e/t.factor/t.minAchv,"ceil",.1);return n>a.MAX_LEVEL?-1:n}},6689:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRemovedSongs=void 0,t.getRemovedSongs=function(e){return"https://maimaidx.jp"===e?["全世界共通リズム感テスト"]:"https://maimaidx-eng.com"===e?["コネクト","シュガーソングとビターステップ","Mr. Wonderland","ワンダーラスト","LOSER","U.S.A.","新宝島","アウトサイダー","ジャガーノート"]:[]}},4313:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getMaiToolsBaseUrl=t.getScriptHost=void 0;const a=n(6162),i="https://myjian.github.io/mai-tools";t.getScriptHost=function(e){const t=Array.from(document.querySelectorAll("script"));for(;t.length;){const n=t.pop();if(n.src.includes(e)){const e=new URL(n.src),t=e.pathname;return e.origin+t.substring(0,t.lastIndexOf("/scripts"))}}return i},t.getMaiToolsBaseUrl=function(){return(0,a.isMaimaiNetOrigin)(window.location.origin)?i:window.location.pathname.startsWith("/mai-tools")?window.location.origin+"/mai-tools":window.location.origin}},472:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function l(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.isNiconicoLinkImg=t.isNicoNicoLink=t.getSongNickname=t.getSongIdx=t.normalizeSongName=t.RATING_TARGET_SONG_NAME_PREFIX=t.DX_SONG_NAME_SUFFIX=void 0;const i=n(6420);t.DX_SONG_NAME_SUFFIX=" [DX]",t.RATING_TARGET_SONG_NAME_PREFIX="▶ ",t.normalizeSongName=function(e){return"D✪N’T  ST✪P  R✪CKIN’"===e?"D✪N’T ST✪P R✪CKIN’":e.replace(/" \+ '/g,"").replace(/' \+ "/g,"")},t.getSongIdx=function(e){return e.getElementsByTagName("form")[0].elements.namedItem("idx").value},t.getSongNickname=function(e,n,a){return"Link"===e&&(e=n.includes("niconico")?"Link(nico)":"Link(org)"),1===a?e+t.DX_SONG_NAME_SUFFIX:e};let r={};t.isNicoNicoLink=function(e){return a(this,void 0,void 0,(function*(){if(r.nico===e)return!0;if(r.original===e)return!1;const t=(yield(0,i.fetchSongDetailPage)(e)).body.querySelector(".m_10.m_t_5.t_r.f_12").innerText.includes("niconico");return console.log("Link (idx: "+e+") "+(t?"is niconico":"is original")),t?r.nico=e:r.original=e,t}))},t.isNiconicoLinkImg=function(e){return e.includes("e90f79d9dcff84df")}},87:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function l(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getSongsByVersion=t.filterSongsByVersion=t.getSongProperties=t.buildSongPropsMap=void 0;const i=n(8642),r=n(134),o=n(6689),l=n(4313),s=n(472),c=/\bdx\s*:\s*([0-9]+)/,u=/\blv\s*:\s*(\[.+?\])/,m=/\bv\s*:\s*(-?[0-9]+)/,d=/\bn\s*:\s*["'](.+?)['"]\s*[,\}]/,f=/\bnn\s*:\s*["'](.+?)['"]\s*[,\}]/;function h(e){return a(this,void 0,void 0,(function*(){let t="";try{const n=yield fetch(e);return n.ok?(t=yield n.text(),JSON.parse(t)):{}}catch(e){console.warn(e),console.warn("Failed to parse JSON: "+t)}return{}}))}function v(e){const t=e.match(c),n=e.match(u),a=e.match(m),r=e.match(d),o=e.match(f);if(t&&n&&a&&r){let e=JSON.parse(n[1]);if(e.length>i.DIFFICULTIES.length){const t=e.pop();e[i.DIFFICULTIES.length-1]=t}return{dx:parseInt(t[1]),lv:e,debut:Math.abs(parseInt(a[1])),name:(0,s.normalizeSongName)(r[1]),nickname:o&&o[1]}}}function g(e,t){if(!e.has(t.name))return!1;const n=e.get(t.name),a=n.findIndex((e=>t.dx===e.dx));return!(a<0||n[a].nickname!=t.nickname||(n[a]=function(e,t){let n=e.lv;return t.lv instanceof Array&&(n=e.lv.map(((e,n)=>isNaN(t.lv[n])?e:t.lv[n]))),Object.assign(Object.assign(Object.assign({},e),t),{lv:n})}(n[a],t),0))}function p(e,t,n){g(e,t)||(t.debut||0===t.debut||(t.debut=n),e.has(t.name)||e.set(t.name,[]),e.get(t.name).push(t))}t.buildSongPropsMap=function(e,t,n){return a(this,void 0,void 0,(function*(){const i=n.split("\n"),s=new Map;for(const t of i){const n=v(t);n&&p(s,n,e)}const c=yield function(e){return a(this,void 0,void 0,(function*(){const t=(0,l.getMaiToolsBaseUrl)()+`/data/chart-levels/version${e}.json`,n=yield h(t),a=[];return["standard","dx"].forEach(((e,t)=>{if(n[e])for(const i of Object.keys(n[e]))a.push({name:i,dx:t,lv:n[e][i]})})),a}))}(e);console.log("chartLevelOverrides",c);for(const t of c)p(s,t,e);if("https://maimaidx-eng.com"===t){const e=yield function(){return a(this,void 0,void 0,(function*(){const e=(0,l.getMaiToolsBaseUrl)()+"/data/song-info/intl.json",t=yield h(e),n=[];return["standard","dx"].forEach(((e,a)=>{if(t[e])for(const i of Object.keys(t[e])){const r=t[e][i],o=parseInt(i);for(const e of r)n.push({name:e,dx:a,debut:o})}})),n}))}();console.log("debutVersionOverrides",e);for(const t of e)g(s,t)}const u=(0,o.getRemovedSongs)(t);for(const e of u)s.delete(e);return s.forEach((e=>{for(const t of e)console.assert(null!=t.debut),console.assert(t.debut>=0&&t.debut<=r.LATEST_VERSION),console.assert(t.lv.length>=4)})),s}))},t.getSongProperties=function(e,t,n,a){let i=e.get(t);if(i&&i.length>0){if(i.length>1&&(i=i.filter((e=>e.dx===a)),i.length>1)){const e=(0,s.getSongNickname)(t,n,a);i=i.filter((t=>t.nickname===e))}if(i.length)return i.length>1&&(console.warn(`Found multiple song properties for ${t} ${a}`),console.warn(i)),i[0]}console.warn(`Could not find song properties for ${t} ${a}`)},t.filterSongsByVersion=function(e,t,n,a){const i=[];for(const r of e){const{dx:e,name:o,nickname:l}=r;let s=t.get(o);s&&s.length>0&&(s.length>1&&(s=s.filter((t=>t.dx===e)),s.length>1&&(s=s.filter((e=>e.nickname===l)))),s.length)?(s.length>1&&(console.warn(`Found multiple song properties for ${o} ${e?"[DX]":""}`),console.warn(s)),(0===a&&s[0].debut===n||1===a&&s[0].debut<n)&&i.push(s[0])):console.warn(`Could not find song properties for ${o} ${e?"[DX]":""}`)}return i},t.getSongsByVersion=function(e,t){const n=[];return e.forEach((e=>e.forEach((e=>{e.debut===t&&n.push(e)})))),n}},5990:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.saveUserPreference=t.loadUserPreference=void 0,t.loadUserPreference=function(e){return window.localStorage.getItem(e)},t.saveUserPreference=function(e,t){window.localStorage.setItem(e,t)}},6420:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function l(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getPostMessageFunc=t.fetchSongDetailPage=t.fetchNewSongs=t.fetchAllSongs=t.handleError=t.ALLOWED_ORIGINS=void 0;const i=n(9099),r=n(2347),o=n(6510),l=n(6991),s=n(472);function c(e){return a(this,void 0,void 0,(function*(){const t=Array.from(e.querySelectorAll(".w_450.m_15.f_0")),n=[];for(const e of t){const t=(0,s.getSongIdx)(e),a=(0,r.getSongName)(e),o=(0,i.getChartType)(e);let l;"Link"===a&&(l=(yield(0,s.isNicoNicoLink)(t))?"Link(nico)":"Link(org)"),n.push({dx:o,name:a,nickname:l})}return n}))}t.ALLOWED_ORIGINS=["https://cdpn.io","https://myjian.github.io","http://localhost:8080"],t.handleError=function(e){alert(e)},t.fetchAllSongs=function(e){return a(this,void 0,void 0,(function*(){if(!e){const t=o.SELF_SCORE_URLS.get(1);e=yield(0,l.fetchPage)(t)}return yield c(e)}))},t.fetchNewSongs=function(e){return a(this,void 0,void 0,(function*(){const t=yield(0,l.fetchPage)(`/maimai-mobile/record/musicVersion/search/?version=${e}&diff=0`);return yield c(t)}))},t.fetchSongDetailPage=function(e){return a(this,void 0,void 0,(function*(){const t=new URLSearchParams({idx:e}).toString();return(0,l.fetchPage)("/maimai-mobile/record/musicDetail/?"+t)}))},t.getPostMessageFunc=function(e,t){return(n,a)=>{const i={action:n,payload:a};e.postMessage(i,t)}}},7258:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function l(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.analyzePlayerRating=t.NUM_TOP_OLD_CHARTS=t.NUM_TOP_NEW_CHARTS=void 0;const i=n(7991),r=n(6689),o=n(87),l=n(8505);function s(e){e=Math.min(e,i.SSSPLUS_MIN_ACHIEVEMENT);const t=(0,i.getRankByAchievement)(e);return t||console.warn(`Could not find rank for achievement ${e.toFixed(4)}%`),(t?t.factor:5)*e/100}function c(e,t){if(t){const n=t.lv[e.difficulty];"number"==typeof n&&(e.levelIsPrecise=n>0,e.level=Math.abs(n))}return Object.assign(Object.assign({},e),{rating:e.level*s(e.achievement)})}t.NUM_TOP_NEW_CHARTS=15,t.NUM_TOP_OLD_CHARTS=35,t.analyzePlayerRating=function(e,n,i,s){return a(this,void 0,void 0,(function*(){const a=[],u=[],m=(0,r.getRemovedSongs)(s);for(const t of n){if(m.includes(t.songName))continue;const n=(0,o.getSongProperties)(e,t.songName,t.genre,t.chartType),r=n?n.debut===i:1===t.chartType,l=c(t,n);r?a.push(l):u.push(l)}a.sort(l.compareSongsByRating),u.sort(l.compareSongsByRating);let d=0;const f=Math.min(t.NUM_TOP_NEW_CHARTS,a.length);for(let e=0;e<f;e++){const t=a[e];t.isTarget=!0,d+=Math.floor(t.rating)}let h=0;const v=Math.min(t.NUM_TOP_OLD_CHARTS,u.length);for(let e=0;e<v;e++){const t=u[e];t.isTarget=!0,h+=Math.floor(t.rating)}return{newChartRecords:a,newChartsRating:d,newTopChartsCount:f,oldChartRecords:u,oldChartsRating:h,oldTopChartsCount:v}}))}},8505:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.compareSongsByDifficulty=t.compareSongsByNextRank=t.compareSongsByName=t.compareSongsByAchv=t.compareSongsByLevel=t.compareSongsByNextRating=t.compareCandidate=t.compareSongsByRating=void 0;const a=n(8642);function i(e,t){return e>t?-1:Number(e<t)}function r(e,t,n){return i(e[n],t[n])}t.compareSongsByRating=function(e,t){return r(e,t,"rating")||r(e,t,"level")||r(e,t,"achievement")},t.compareCandidate=function(e,t){const n=e.nextRanks.values().next().value,a=n.minRt/(n.rank.minAchv-e.achievement),o=t.nextRanks.values().next().value;return i(a,o.minRt/(o.rank.minAchv-t.achievement))||i(n.minRt,o.minRt)||r(e,t,"level")},t.compareSongsByNextRating=function(e,t){const n=e.nextRanks.values().next().value,a=t.nextRanks.values().next().value;return i(n.minRt,a.minRt)||r(e,t,"level")},t.compareSongsByLevel=function(e,t){return r(t,e,"level")},t.compareSongsByAchv=function(e,t){return r(e,t,"achievement")},t.compareSongsByName=function(e,t){return n=t,e["songName"].localeCompare(n.songName);var n},t.compareSongsByNextRank=function(e,t){const n=e.nextRanks.values().next().value.rank,a=t.nextRanks.values().next().value.rank;return i(n.minAchv,a.minAchv)},t.compareSongsByDifficulty=function(e,t){return i(a.DIFFICULTIES.indexOf(e.difficulty),a.DIFFICULTIES.indexOf(t.difficulty))}},1499:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IntervalLines=void 0;const i=a(n(7363));class r extends i.default.PureComponent{render(){const{interval:e,heightUnit:t,onClick:n}=this.props,a=e[0]===e[1];let r,o;const l={bottom:(r=(e[0]-.5)*t-1)+"px"},s={bottom:(o=(e[1]+.5)*t)+"px"};a?r+=4:o-r<14&&(o+=2,r-=5);const c={bottom:r+"px"},u={bottom:o+"px"};return i.default.createElement("div",{onClick:n},i.default.createElement("div",{className:"intervalBoundary",style:s}),i.default.createElement("div",{className:"intervalBoundary",style:l}),i.default.createElement("div",{className:"intervalLabel",style:c},i.default.createElement("span",{className:"intervalLabelText axisLabelText"},e[0])),!a&&i.default.createElement("div",{className:"intervalLabel",style:u},i.default.createElement("span",{className:"intervalLabelText axisLabelText"},e[1])))}}t.IntervalLines=r},1919:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LvLabel=void 0;const i=a(n(7363));class r extends i.default.PureComponent{render(){const{canZoomIn:e,onClick:t,title:n}=this.props;return i.default.createElement("div",{className:"lvLabel"},i.default.createElement("div",{className:"lvLabelButtonContainer"},i.default.createElement("button",{className:"lvLabelButton",disabled:!e,onClick:t},n)))}}t.LvLabel=r},2330:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LvRankRatingSegment=void 0;const i=a(n(7363));class r extends i.default.PureComponent{constructor(){super(...arguments),this.minRt=0,this.maxRt=0,this.handleClick=()=>{this.props.highlightInterval(this.minRt,this.maxRt)}}render(){const{minLv:e,minAchv:t,rankFactor:n,maxLv:a,maxAchv:r,heightUnit:o,title:l}=this.props;this.minRt=Math.floor(e*t*n/100),this.maxRt=Math.floor(a*r*n/100);const s={bottom:(this.minRt-.5)*o+"px",height:(this.maxRt-this.minRt+1)*o+"px"},c="ratingSegment segment"+l.replace("+","P");return i.default.createElement("div",{className:c,style:s,title:this.hoverText(),tabIndex:0,onClick:this.handleClick},i.default.createElement("div",{className:"ratingSegmentLabel"},l))}hoverText(){return this.minRt<this.maxRt?`${this.minRt} - ${this.maxRt}`:this.maxRt.toString()}}t.LvRankRatingSegment=r},8758:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LvRatingContainer=void 0;const i=a(n(7363)),r=n(1919),o=n(2330);class l extends i.default.PureComponent{constructor(){super(...arguments),this.handleLabelClick=()=>{const{lvTitle:e}=this.props;this.props.onZoomIn(e,e)}}render(){const{canZoomIn:e,lvTitle:t,minLv:n,maxLv:a,heightUnit:l,containerHeight:s,ranks:c}=this.props,u={height:s+"px"};return i.default.createElement("div",{className:"lvRatingContainer",style:u},i.default.createElement(r.LvLabel,{title:t,onClick:this.handleLabelClick,canZoomIn:e}),l?c.map(((e,t)=>{const r=0===t?e.minAchv:c[t-1].minAchv-1e-4;return i.default.createElement(o.LvRankRatingSegment,{key:e.title,minLv:n,maxLv:a,minAchv:e.minAchv,maxAchv:r,rankFactor:e.factor,heightUnit:l,title:e.title,highlightInterval:this.props.highlightInterval})})):null)}}t.LvRatingContainer=l},2977:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiplierTable=void 0;const i=a(n(7363)),r=n(5215),o=n(7991),l=["qlRankTitleCell","qlThresholdCell"],s={en_US:{rankFactorTable:"Rank Factor Table",rank:"Rank",achievement:"Achievement",factor:"Factor",multiplier:"Multiplier (Factor × Achievement)"},zh_TW:{rankFactorTable:"Rank 係數表",rank:"Rank",achievement:"達成率",factor:"係數",multiplier:"倍率 (係數 × 達成率)"},ko_KR:{rankFactorTable:"등급 배율 테이블",rank:"등급",achievement:"정확도",factor:"배수",multiplier:"배율 (배수 × 정확도)"}},c=e=>{const{isHeading:t}=e;return i.default.createElement("tr",null,e.values.map(((e,n)=>{let a="qlRankFactorCell";return n<l.length&&(a+=" "+l[n]),t||0===n?i.default.createElement("th",{key:n,className:a},e):i.default.createElement("td",{key:n,className:a},e)})))};t.MultiplierTable=()=>{const e=(0,o.getRankDefinitions)(),t=e.findIndex((e=>"A"===e.title))+1,n=s[(0,r.useLanguage)()];return i.default.createElement("div",{className:"quickLookup"},i.default.createElement("h2",{className:"quickLookupHeading"},n.rankFactorTable),i.default.createElement("table",{className:"lookupTable"},i.default.createElement("thead",{className:"lookupTableHead"},i.default.createElement(c,{values:[n.rank,n.achievement,n.factor,n.multiplier],isHeading:!0})),i.default.createElement("tbody",null,e.slice(0,t).map(((e,t,n)=>{const a=e.minAchv*e.factor/100,r=t>0?(n[t-1].minAchv-1e-4)*e.factor/100:a,o=a.toFixed(3),l=r.toFixed(3),s=o!==l?`${o} - ${l}`:o;return i.default.createElement(c,{key:t,values:[e.title,e.minAchv,e.factor,s]})})))))}},3828:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsInput=void 0;const i=a(n(7363)),r=n(6729);class o extends i.default.PureComponent{constructor(){super(...arguments),this.handleChangeMinLv=e=>{const t=e.currentTarget.value,n=(0,r.getLvIndex)(t),a=(0,r.getLvIndex)(this.props.maxLv);this.props.onSetRange(t,r.DX_LEVELS[Math.max(n,a)].title)},this.handleChangeMaxLv=e=>{const t=e.currentTarget.value,n=(0,r.getLvIndex)(this.props.minLv),a=(0,r.getLvIndex)(t);this.props.onSetRange(r.DX_LEVELS[Math.min(n,a)].title,t)},this.handleChangeHeightUnit=e=>{console.log(e.target);const t=parseInt(e.currentTarget.value);this.props.onChangeUnit(t)},this.handleChangeMinRank=e=>{this.props.onSetMinRank(e.currentTarget.value)},this.handleChangeTableDisplay=e=>{this.props.onSetTableDisplay(e.currentTarget.value)}}render(){const{heightUnit:e,minLv:t,minRank:n,maxLv:a,tableDisplay:r}=this.props;return i.default.createElement("div",{className:"optionsContainer"},i.default.createElement("div",{className:"container",tabIndex:-1},i.default.createElement("span",{className:"lvRangeLabelContainer"},i.default.createElement("label",{className:"optionGroup"},"Min Lv: ",i.default.createElement("select",{onChange:this.handleChangeMinLv,value:t},this.renderLvOptions())),i.default.createElement("label",{className:"optionGroup"},"Max Lv: ",i.default.createElement("select",{onChange:this.handleChangeMaxLv,value:a},this.renderLvOptions()))),i.default.createElement("label",{className:"optionGroup"},"Min Rank: ",i.default.createElement("select",{onChange:this.handleChangeMinRank,value:n},i.default.createElement("option",{value:"AAA"},"AAA"),i.default.createElement("option",{value:"S"},"S"),i.default.createElement("option",{value:"SS"},"SS"),i.default.createElement("option",{value:"SSS"},"SSS"))),i.default.createElement("br",null),i.default.createElement("label",{className:"optionGroup"},"Graph: ",i.default.createElement("select",{onChange:this.handleChangeHeightUnit,value:e.toFixed(0)},i.default.createElement("option",{value:"0"},"Hide"),i.default.createElement("option",{value:"3"},"3x"),i.default.createElement("option",{value:"4"},"4x"),i.default.createElement("option",{value:"5"},"5x"),i.default.createElement("option",{value:"8"},"8x"),i.default.createElement("option",{value:"12"},"12x"))),i.default.createElement("label",{className:"optionGroup"},"Table values: ",i.default.createElement("select",{onChange:this.handleChangeTableDisplay,value:r},i.default.createElement("option",{value:"MIN"},"MIN"),i.default.createElement("option",{value:"MAX"},"MAX"),i.default.createElement("option",{value:"RANGE"},"RANGE")))))}renderLvOptions(){const e=[];for(let t=r.DX_LEVELS.length-1;t>=0;t--){const n=r.DX_LEVELS[t];e.push(i.default.createElement("option",{key:t,value:n.title},n.title))}return e}}t.OptionsInput=o},2343:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RatingAxis=void 0;const i=a(n(7363));t.RatingAxis=({step:e,maxRating:t,heightUnit:n,containerHeight:a,onClick:o})=>{const l={height:a+"px"},s=[];for(let n=0;n<t+e;n+=e)s.push(n);return i.default.createElement("div",{className:"axisLabelContainer",style:l,onClick:o},s.map((e=>i.default.createElement(r,{key:e,value:e,heightUnit:n}))))};const r=({value:e,heightUnit:t})=>{const n={bottom:e*t+"px"};return i.default.createElement("div",{className:"axisLabel",style:n},i.default.createElement("span",{className:"axisLabelText"},e))}},9731:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RatingTable=void 0;const i=a(n(7363));class r extends i.default.PureComponent{render(){const{displayValue:e,levels:t,ranks:n}=this.props;return i.default.createElement("table",{className:"lookupTable"},i.default.createElement("thead",{className:"lookupTableHead"},i.default.createElement("tr",null,i.default.createElement("th",{className:"lookupTopLeftCell"}),n.map(((e,t)=>i.default.createElement("th",{key:t},e.title))))),i.default.createElement("tbody",{className:"lookupTableBody"},t.map(((t,a)=>i.default.createElement("tr",{key:a},i.default.createElement("th",null,t.title),n.map(((a,r)=>{const o=0===r?a.minAchv:n[r-1].minAchv-1e-4,l=Math.floor(t.minLv*a.minAchv*a.factor*.01);if("MIN"===e)return i.default.createElement("td",{key:r},l);const s=Math.floor(t.maxLv*o*a.factor*.01);if("MAX"===e)return i.default.createElement("td",{key:r},s);const c=l===s?l:`${s} - ${l}`;return i.default.createElement("td",{key:r},c)}))))).reverse()))}}t.RatingTable=r},3003:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RatingVisualizer=void 0;const i=a(n(7363)),r=n(1499),o=n(8758),l=n(2343);class s extends i.default.PureComponent{constructor(){super(...arguments),this.removeIntervalTimeout=0,this.state={},this.highlightInterval=(e,t)=>{const n=this.state.highlightInterval;n&&n[0]===e&&n[1]===t?this.removeHighlightInterval():this.setState({highlightInterval:[e,t]})},this.removeHighlightInterval=()=>{this.removeIntervalTimeout=window.setTimeout((()=>{this.setState({highlightInterval:void 0}),this.removeIntervalTimeout=0}),0)},this.cancelRemoveHighlightInterval=()=>{this.removeIntervalTimeout&&(clearTimeout(this.removeIntervalTimeout),this.removeIntervalTimeout=0)}}render(){const{axisLabelStep:e,canZoomIn:t,handleSetRange:n,heightUnit:a,levels:s,maxRating:c,ranks:u}=this.props,{highlightInterval:m}=this.state,d=this.getContainerHeight();return a?i.default.createElement("div",{className:"container",onBlur:this.removeHighlightInterval,onFocus:this.cancelRemoveHighlightInterval,tabIndex:-1},i.default.createElement("div",{className:"ratingContainer"},i.default.createElement(l.RatingAxis,{maxRating:c,heightUnit:a,containerHeight:d,step:e,onClick:this.removeHighlightInterval}),s.map(((e,r)=>i.default.createElement(o.LvRatingContainer,{key:r,canZoomIn:t,lvTitle:e.title,minLv:e.minLv,maxLv:e.maxLv,heightUnit:a,containerHeight:d,ranks:u,onZoomIn:n,highlightInterval:this.highlightInterval}))),m&&i.default.createElement(r.IntervalLines,{interval:m,heightUnit:a,onClick:this.removeHighlightInterval}))):null}getContainerHeight(){const{axisLabelStep:e,maxRating:t,heightUnit:n,topPadding:a}=this.props;return(t+e)*n+a}}t.RatingVisualizer=s},1783:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RecommendedLevels=void 0;const o=r(n(7363)),l=n(6699),s=n(7991),c=n(5990),u=n(7258);t.RecommendedLevels=()=>{const[e,t]=(0,o.useState)((()=>parseInt((0,c.loadUserPreference)("targetRating"))||12e3)),n=Math.ceil(e/(u.NUM_TOP_NEW_CHARTS+u.NUM_TOP_OLD_CHARTS)),a=(0,s.getRankDefinitions)().slice(0,(0,s.getRankIndexByAchievement)(99)+1),i=a.map((e=>(0,s.calcRecommendedLv)(n,e)));return o.default.createElement("div",{className:"suggestLvByRating"},o.default.createElement("label",{className:"targetRatingLabel"},"Target Rating:"," ",o.default.createElement("input",{className:"targetRating",onChange:e=>{const n=parseInt(e.currentTarget.value);isNaN(n)||n<=0||((0,c.saveUserPreference)("targetRating",n.toFixed(0)),t(n))},type:"number",value:e})),o.default.createElement("table",{className:"lookupTable recLvTable"},o.default.createElement("thead",{className:"lookupTableHead"},o.default.createElement("tr",null,o.default.createElement("th",null),a.map((e=>o.default.createElement("th",{key:e.title},o.default.createElement("span",{className:"recLvRankTitle"},e.title),o.default.createElement("span",{className:"recLvRankAchv"},e.minAchv,"%")))),o.default.createElement("th",null,"Rating per record"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("th",null,"Lv"),i.map(((e,t)=>o.default.createElement(l.RecommendedLevelCell,{key:t,lv:e}))),o.default.createElement("td",null,n,"↑")))))}},6815:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RootComponent=void 0;const i=a(n(7363)),r=n(4876),o=n(8080),l=n(5215),s=n(7991),c=n(5990),u=n(6729),m=n(2977),d=n(3828),f=n(9731),h=n(3003),v=n(1783);class g extends i.default.PureComponent{constructor(e){super(e),this.handleChangeHeightUnit=e=>{(0,c.saveUserPreference)("visualizerHeightUnit",e.toFixed(0)),this.setState({heightUnit:e})},this.handleSetRange=(e,t)=>{const n=u.DX_LEVELS.find((e=>e.title===t));(0,c.saveUserPreference)("visualizerMinLv",e),(0,c.saveUserPreference)("visualizerMaxLv",t),this.setState({minLv:e,maxLv:t,maxRating:p(n.maxLv)})},this.handleSetMinRank=e=>{(0,c.saveUserPreference)("visualizerMinRank",e),this.setState({minRank:e})},this.handleSetTableDisplay=e=>{(0,c.saveUserPreference)("visualizerTableDisplay",e),this.setState({tableDisplay:e})};const t=parseInt((0,c.loadUserPreference)("visualizerHeightUnit")),n=isNaN(t)?0:t,a=(0,o.getInitialLanguage)();_(a),this.state={lang:a,minLv:(0,c.loadUserPreference)("visualizerMinLv")||"10",minRank:(0,c.loadUserPreference)("visualizerMinRank")||"SS",maxLv:(0,c.loadUserPreference)("visualizerMaxLv")||"14",width:30,heightUnit:n,maxRating:p(15),tableDisplay:(0,c.loadUserPreference)("visualizerTableDisplay")||"RANGE",topPadding:2*n+50,axisLabelStep:5}}componentDidUpdate(e,t){this.state.lang!==t.lang&&_(this.state.lang)}render(){const{lang:e,heightUnit:t,maxRating:n,axisLabelStep:a,minLv:o,minRank:c,maxLv:u,tableDisplay:g,topPadding:p}=this.state,_=u!==o,L=this.getLevels(),S=(0,s.getRankDefinitions)(),E=S.findIndex((e=>e.title==c)),y=S.slice(0,E+1);return i.default.createElement(l.LangContext.Provider,{value:e},i.default.createElement("div",{className:"ratingVisualizer"},i.default.createElement(d.OptionsInput,{heightUnit:t,maxLv:u,minLv:o,minRank:c,tableDisplay:g,onChangeUnit:this.handleChangeHeightUnit,onSetMinRank:this.handleSetMinRank,onSetRange:this.handleSetRange,onSetTableDisplay:this.handleSetTableDisplay}),i.default.createElement(h.RatingVisualizer,{canZoomIn:_,heightUnit:t,maxRating:n,levels:L,topPadding:p,axisLabelStep:a,ranks:y,handleSetRange:this.handleSetRange}),i.default.createElement("div",{className:"container"},i.default.createElement(f.RatingTable,{ranks:y,levels:L,displayValue:g}),i.default.createElement(v.RecommendedLevels,null),i.default.createElement("hr",{className:"sectionSep"}),i.default.createElement(m.MultiplierTable,null),i.default.createElement("footer",{className:"footer"},i.default.createElement("hr",{className:"sectionSep"}),i.default.createElement(r.LangSwitcher,null),i.default.createElement("br",null),i.default.createElement("span",null,"Made by "),i.default.createElement("a",{className:"authorLink",href:"https://github.com/myjian",target:"_blank"},"myjian"),i.default.createElement("span",null,".")))))}getDetailLevels(e,t){const n=[],a=u.DX_LEVELS[t].maxLv;let i=u.DX_LEVELS[e].minLv;for(;i<=a;)n.push({title:i.toFixed(1),minLv:i,maxLv:i}),i+=.1;return n}getLevels(){const{minLv:e,maxLv:t}=this.state,n=(0,u.getLvIndex)(e),a=(0,u.getLvIndex)(t);return a-n<2?this.getDetailLevels(n,a):u.DX_LEVELS.slice(n,a+1)}}function p(e){const t=(0,s.getRankDefinitions)()[0];return Math.floor(t.minAchv*t.factor*e/100)}function _(e){document.title={en_US:"maimai DX Rating Lookup Table & Visualization",zh_TW:"maimai DX R值圖表",ko_KR:"maimai DX 레이팅 상수 표 & 시각화"}[e]}t.RootComponent=g},6729:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getLvIndex=t.DX_LEVELS=void 0,t.DX_LEVELS=[{title:"8",minLv:8,maxLv:8.6},{title:"8+",minLv:8.7,maxLv:8.9},{title:"9",minLv:9,maxLv:9.6},{title:"9+",minLv:9.7,maxLv:9.9},{title:"10",minLv:10,maxLv:10.6},{title:"10+",minLv:10.7,maxLv:10.9},{title:"11",minLv:11,maxLv:11.6},{title:"11+",minLv:11.7,maxLv:11.9},{title:"12",minLv:12,maxLv:12.6},{title:"12+",minLv:12.7,maxLv:12.9},{title:"13",minLv:13,maxLv:13.6},{title:"13+",minLv:13.7,maxLv:13.9},{title:"14",minLv:14,maxLv:14.6},{title:"14+",minLv:14.7,maxLv:14.9},{title:"15",minLv:15,maxLv:15}],t.getLvIndex=function(e){return t.DX_LEVELS.findIndex((t=>t.title===e))}},9875:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=a(n(7363)),r=a(n(745)),o=n(6815);r.default.createRoot(document.getElementById("root")).render(i.default.createElement(o.RootComponent,null))},7363:e=>{e.exports=React},1533:e=>{e.exports=ReactDOM}},t={};!function n(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}(9875)})();